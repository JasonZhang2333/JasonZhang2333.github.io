---
layout: post
title: "《深入Linux内核架构》进程"
date: 2019-10-23
author: "Zzc"
header-style: text
catalog: true
tags:
  - 编程
  - 操作系统
  - Linux
  - 进程管理
  - 笔记
---

> 本文基于《深入理解Linux内核架构》第二章，`Linux`为`2.6.24`版本。

内核需要处理进程相关的两个任务：
1. 为各个进程分配多长时间，何时切换到下一进程，这取决于调度器策略，与平台无关
2. 在进程切换后，必须保证切换到进程的执行环境与之前完全相同，这与处理器极度相关，需要汇编实现

### 优先级与生命周期

![img](/img/in-post/post-process-management/201910231734.png)
*通过时间片分配CPU时间*

进程按照时间片调度，分配的时间片份额和进程相对重要性相当，这种方案称为抢占式多任务处理(preemptive multitasking)，被抢占进程的所有寄存器内容和页表都会被保存。这一简化模型忽略了几个细节，首先CPU为了利益最大化，不会立即执行无事可做的进程，其次`Linux`支持不同的调度类别，如完全公平的调度和实时调度，所以当重要的进程可以运行时，可能会抢占当前进程。

